<th:block th:if="${songSubgroups!=null && !songSubgroups.isEmpty()}">
    <h2 style="text-align: center;" th:text="${game.displayTitle}"></h2>
    <hr>
    <th:block th:if="${game.additionalInfo}">
        <div class="accordion" id="gameInfoAccordion">
            <div class="accordion-item">
                <h3 class="accordion-header" id="gameAdditionalInfo">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                        data-bs-target="#gameInfoDetails" aria-expanded="false" aria-controls="gameInfoDetails">
                        <span th:text="#{additionalInfo}" class="d-block w-100 text-center"></span>
                    </button>
                </h3>
                <div id="gameInfoDetails" class="accordion-collapse collapse" aria-labelledby="gameAdditionalInfo"
                    data-bs-parent="#gameInfoAccordion">
                    <div class="accordion-body" style="text-align: center;">
                        <span th:text="${game.additionalInfo}"></span>
                    </div>
                </div>
            </div>
        </div>
        <hr>
    </th:block>
    <div id="playlistsDiv" class="form-group pb-2 pt-2"
        style="display: flex; align-items: center; justify-content: center">
        <span id="playlist_init" class="nfs-top-item p-2 d-inline-block pointable" data-bs-toggle="modal"
            data-bs-target="#playlistModeModal" th:text="#{launchPlaylist}"></span>
        <div style="display: flex; align-items: center">
            <th:block th:if="${game.spotifyId!=null && game.spotifyId!=''}">
                <div class="pointable" data-bs-target="#spotifyModal" data-bs-toggle="modal" id="spotifyLink"
                    th:attr="data-tagVideo=${game.spotifyId}">
                    <img class="img-responsive-row-icon pointable playlist-icon" data-toggle="tooltip"
                        data-placement="top" th:title="#{launchSpotify}" th:src="@{/images/fullres/spotify_big.png}">
                </div>
            </th:block>
            <th:block th:if="${game.tidalId!=null && game.tidalId!=''}">
                <div class="pointable" data-bs-target="#tidalModal" data-bs-toggle="modal" id="tidalLink"
                    th:attr="data-tagVideo=${game.tidalId}">
                    <img class="img-responsive-row-icon pointable playlist-icon" data-toggle="tooltip"
                        data-placement="top" th:title="#{launchTidal}" th:src="@{/images/fullres/tidal_big.png}">
                </div>
            </th:block>
            <th:block th:if="${game.deezerId!=null && game.deezerId!=''}">
                <div class="pointable" data-bs-target="#deezerModal" data-bs-toggle="modal" id="deezerLink"
                    th:attr="data-tagVideo=${game.deezerId}">
                    <img class="img-responsive-row-icon pointable playlist-icon" data-toggle="tooltip"
                        data-placement="top" th:title="#{launchDeezer}" th:src="@{/images/fullres/deezer_big.png}">
                </div>
            </th:block>
            <th:block th:if="${game.soundcloudId!=null && game.soundcloudId!=''}">
                <div class="pointable" data-bs-target="#soundcloudModal" data-bs-toggle="modal" id="soundcloudLink"
                    th:attr="data-tagVideo=${game.soundcloudId}">
                    <img class="img-responsive-row-icon pointable playlist-icon" data-toggle="tooltip"
                        data-placement="top" th:title="#{launchSoundcloud}"
                        th:src="@{/images/fullres/soundcloud_big.png}">
                </div>
            </th:block>
        </div>
        <div class="pointable" data-bs-target="#disqusModal" data-bs-toggle="modal" id="newDisqusLink">
            <img class="img-responsive-row-icon pointable playlist-icon" data-toggle="tooltip" data-placement="top"
                th:title="#{showNewDisqus}" th:src="@{/images/fullres/disqus_big.png}">
        </div>
        <div class="pointable" data-bs-target="#disqusModal" data-bs-toggle="modal" id="disqusLink">
            <img class="img-responsive-row-icon pointable playlist-icon" data-toggle="tooltip" data-placement="top"
                th:title="#{showDisqus}" th:src="@{/images/fullres/disqus_archive_big.png}">
        </div>
    </div>
    <div class="form-group">
        <span>
            <input id="filter_songs" maxlength="15" class="p-2 mb-2" th:placeholder="#{filterSongs}">
        </span>
    </div>
    <div class="tabbable boxed parentTabs">
        <ul class="nav nav-tabs gamegroup">
            <li class="nav-item" th:each="gamegroup: ${gamegroups}">
                <a class="nav-link gamegroup" th:href="@{'#gamegroupid'+${gamegroup.id}}"
                    th:attr="data-el_id='gamegroupid'+${gamegroup.id}" data-toggle="tab"
                    th:text="${gamegroup.groupName}"></a>
            </li>
        </ul>
        <th:block th:each="gamegroup: ${gamegroups}">
            <ul class="nav nav-tabs subgroup visually-hidden"
                th:attr="id='gamegroupid'+${gamegroup.id}, data-el_id='gamegroupid'+${gamegroup.id}">

                <li class="nav-item" th:each="subgroup: ${gamegroup.subgroups}">
                    <button class="nav-link subgroup"
                        th:attr="id='songSubgroup'+${subgroup.id}, data-gameGroupTxt=${gamegroup.groupName}, data-subgroupTxt=${subgroup.subgroupName},data-group_id=${gamegroup.id}"
                        href="" th:text="${subgroup.subgroupName}"></button>

                </li>

            </ul>
        </th:block>
        <table id="game_stuff" class="table table-hover table-striped playlist_table">
            <colgroup>
                <col class="contextButton" style="display:none;" />
                <col class="info_button" />
                <col class="countries" />
                <col class="band" />
                <col class="songtitle" />
                <col class="genre" />
                <col class="actions" />
                <col class="infowarn" />
            </colgroup>
            <thead>
                <tr>
                    <th class="game_content_th contextButton" scope="col" style="display:none;"></th>
                    <th class="game_content_th info_button" scope="col"></th>
                    <th class="game_content_th countries" scope="col" th:text="#{country}"></th>
                    <th class="game_content_th" scope="col" th:text="#{band}"></th>
                    <th class="game_content_th" scope="col" th:text="#{song}"></th>
                    <th class="game_content_th" scope="col" th:text="#{genre}"></th>
                    <th class="game_content_th" scope="col"></th>
                    <th class="game_content_th infowarn" scope="col"></th>
                </tr>
            </thead>
            <tbody>
                <th:block th:each="gamegroup: ${gamegroups}">
                    <th:block th:each="subgroup: ${gamegroup.subgroups}">
                        <th:block th:if="${gamegroup.groupName != 'All'}">
                            <tr class="subgroup-separator table-primary"
                                th:attr="data-group_id=${gamegroup.id},data-el_id='songSubgroup'+${subgroup.id}">
                                <td class="subgroup-separator-td" colspan="7"
                                    th:attr="data-el_id='songSubgroup'+${subgroup.id},data-group_id=${gamegroup.id}"
                                    th:text="${gamegroup.groupName} + ' - ' + ${subgroup.subgroupName}"></td>
                            </tr>
                            <tr th:each="songSubgroup : ${subgroup.songSubgroupList}"
                                th:attr="data-el_id='songSubgroup'+${songSubgroup.subgroup.id},data-group_id=${gamegroup.id},data-song_id=${songSubgroup.song.id},data-songSubgroup-id=${songSubgroup.id}">
                                <td class="contextButton" style="display:none;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="5vw" height="9vw" fill="currentColor"
                                        class="bi bi-three-dots-vertical context_menu_thing" viewBox="0 0 16 16">
                                        <path
                                            d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0" />
                                    </svg>
                                </td>
                                <td class="info_button">
                                    <img class="img-responsive-row-icon add-to-custom-playlist pointable"
                                        data-toggle="tooltip" data-placement="right" th:title="#{addToPlaylist}"
                                        th:src="@{/images/fullres/plus_big.png}">
                                    <img class="img-responsive-row-icon info-about-song pointable" data-toggle="tooltip"
                                        data-placement="right" th:title="#{showInfo}"
                                        th:src="@{/images/fullres/info_big.png}">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="red"
                                        class="bi bi-bug-fill img-responsive-row-icon report-bug pointable"
                                        viewBox="0 0 16 16" data-toggle="tooltip" th:title="#{problem}">
                                        <path
                                            d="M4.978.855a.5.5 0 1 0-.956.29l.41 1.352A5 5 0 0 0 3 6h10a5 5 0 0 0-1.432-3.503l.41-1.352a.5.5 0 1 0-.956-.29l-.291.956A5 5 0 0 0 8 1a5 5 0 0 0-2.731.811l-.29-.956z" />
                                        <path
                                            d="M13 6v1H8.5v8.975A5 5 0 0 0 13 11h.5a.5.5 0 0 1 .5.5v.5a.5.5 0 1 0 1 0v-.5a1.5 1.5 0 0 0-1.5-1.5H13V9h1.5a.5.5 0 0 0 0-1H13V7h.5A1.5 1.5 0 0 0 15 5.5V5a.5.5 0 0 0-1 0v.5a.5.5 0 0 1-.5.5zm-5.5 9.975V7H3V6h-.5a.5.5 0 0 1-.5-.5V5a.5.5 0 0 0-1 0v.5A1.5 1.5 0 0 0 2.5 7H3v1H1.5a.5.5 0 0 0 0 1H3v1h-.5A1.5 1.5 0 0 0 1 11.5v.5a.5.5 0 1 0 1 0v-.5a.5.5 0 0 1 .5-.5H3a5 5 0 0 0 4.5 4.975" />
                                    </svg>
                                </td>
                                <td class="countries">
                                    <th:block th:each="authorSong : ${songSubgroup.song.authorSongList}">
                                        <th:block
                                            th:each="authorCountry : ${authorSong.authorAlias.author.authorCountries}">
                                            <img class="img-country" th:src="${authorCountry.country.countryLink}">
                                        </th:block>
                                    </th:block>

                                </td>
                                <td class="band">
                                    <th:block
                                        th:each="authorSong,iter : ${songSubgroup.song.authorSongList.?[role.value=='COMPOSER']}">
                                        <a class="table_link" th:href="'/author/'+${authorSong.authorAlias.author.id}"
                                            th:text="${songSubgroup.ingameDisplayBand!=null} ? ${songSubgroup.ingameDisplayBand} : ${authorSong.authorAlias.alias} "></a>
                                    </th:block>
                                    <th:block th:if="${songSubgroup.showSubcomposer}">
                                        <th:block
                                            th:each="authorSong,iter : ${songSubgroup.song.authorSongList.?[role.value=='SUBCOMPOSER']}">
                                            <span
                                                th:text="${authorSong.subcomposerConcat!=null} ? ${authorSong.subcomposerConcat} : ''"></span>
                                            <a class="table_link"
                                                th:href="'/author/'+${authorSong.authorAlias.author.id}"
                                                th:text="${authorSong.authorAlias.alias}"></a>
                                        </th:block>
                                    </th:block>
                                    <th:block th:if="${songSubgroup.song.featNextToBand}">
                                        <th:block
                                            th:each="authorSong,iter : ${songSubgroup.song.authorSongList.?[role.value=='FEAT']}">
                                            <span th:text="${iter.first ? 'feat. ' : ''}"></span>
                                            <a class="table_link"
                                                th:href="'/author/'+${authorSong.authorAlias.author.id}"
                                                th:text="${authorSong.authorAlias.alias}"></a>
                                            <th:block th:if="${authorSong.featConcat!=null}">
                                                <span th:text="${!iter.last ? authorSong.featConcat : ''}"></span>
                                            </th:block>
                                        </th:block>
                                    </th:block>
                                </td>
                                <td class="songtitle">
                                    <span
                                        th:text="${songSubgroup.ingameDisplayTitle!=null} ? ${songSubgroup.ingameDisplayTitle} : ${songSubgroup.song.officialDisplayTitle} "></span>
                                    <th:block th:if="${songSubgroup.showFeat}">
                                        <th:block th:if="${!#bools.isTrue(songSubgroup.song.featNextToBand)}">
                                            <th:block
                                                th:each="authorSong,iter : ${songSubgroup.song.authorSongList.?[role.value=='FEAT']}">
                                                <span th:text="${iter.first ? '(feat. ' : ''}"></span>
                                                <a class="table_link"
                                                    th:href="'/author/'+${authorSong.authorAlias.author.id}"
                                                    th:text="${authorSong.authorAlias.alias}"></a><span
                                                    th:text="${iter.last ? ')' : ''}"></span>
                                                <th:block th:if="${authorSong.featConcat!=null}">
                                                    <span th:text="${!iter.last ? authorSong.featConcat : ''}"></span>
                                                </th:block>
                                            </th:block>
                                        </th:block>
                                    </th:block>
                                    <th:block th:if="${songSubgroup.remix.value=='YES'}">
                                        <th:block
                                            th:each="authorSong,iter : ${songSubgroup.song.authorSongList.?[role.value=='REMIX']}">
                                            <span th:text="${iter.first ? '(' : ''}"></span><a class="table_link"
                                                th:href="'/author/'+${authorSong.authorAlias.author.id}"
                                                th:text="${authorSong.authorAlias.alias}"></a>
                                            <span
                                                th:text="${authorSong.remixConcat!=null} ? ${authorSong.remixConcat} : ''"></span>
                                            <span th:text="${iter.last ? songSubgroup.remixText + ')' : ''}"></span>
                                        </th:block>
                                    </th:block>
                                </td>
                                <td class="genre">
                                    <th:block th:each="songGenre,iter : ${songSubgroup.song.songGenreList}">
                                        <a class="table_link" th:text="${songGenre.genre.genreName}"
                                            th:href="'/genre/'+${songGenre.genre.id}"></a><span th:remove="tag"
                                            th:text="${!iter.last ? ', ' : ''}"></span>
                                    </th:block>
                                </td>
                                <td class="actions">
                                    <div class="play_icondiv">
                                        <!--<th:block th:if="${songSubgroup.srcId!=null or songSubgroup.song.srcId!=null}">-->
                                        <th:block th:if="${songSubgroup.srcId!=null}">
                                            <!--th:attr="data-tagVideo=${songSubgroup.srcId} ? 'https://www.youtube.com/embed/'+${songSubgroup.srcId} : 'https://www.youtube.com/embed/'+${songSubgroup.song.srcId}"-->
                                            <img class="play_icon img-responsive-row-icon pointable"
                                                data-bs-toggle="modal" data-bs-target="#videoModal"
                                                th:attr="data-tagVideo='https://www.youtube.com/embed/'+${songSubgroup.srcId}"
                                                th:src="@{/images/znakwodny.png}">
                                            <a class="table_link externalYT" target="_blank"
                                                th:href="'https://www.youtube.com/watch?v='+${songSubgroup.srcId}">
                                                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                                                    class="bi bi-box-arrow-up-right" viewBox="0 0 16 16">
                                                    <path fill-rule="evenodd"
                                                        d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5" />
                                                    <path fill-rule="evenodd"
                                                        d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0z" />
                                                </svg>
                                            </a>
                                        </th:block>
                                        <textarea th:utext="${songSubgroup.lyrics}" hidden
                                            th:attr="data-lyricsState=${songSubgroup.instrumental.value=='YES' ? 'instrumental' : 'noninstrumental'},data-instrumental=#{thisIsInstrumental},data-noLyrics=#{noLyrics}"></textarea>
                                        <th:block th:if="${songSubgroup.spotifyId != null}">
                                            <a class="a-external-music-link" th:href="${songSubgroup.spotifyId}">
                                                <img class="img-responsive-row-icon"
                                                    th:src="@{/images/fullres/spotify_big.png}">
                                            </a>
                                        </th:block>
                                        <th:block th:if="${songSubgroup.deezerId != null}">
                                            <a class="a-external-music-link" th:href="${songSubgroup.deezerId}">
                                                <img class="img-responsive-row-icon"
                                                    th:src="@{/images/fullres/deezer_big.png}">
                                            </a>
                                        </th:block>
                                        <th:block th:if="${songSubgroup.itunesLink != null}">
                                            <a class="a-external-music-link" th:href="${songSubgroup.itunesLink}">
                                                <img class="img-responsive-row-icon"
                                                    th:src="@{/images/fullres/itunes_big.png}">
                                            </a>
                                        </th:block>
                                    </div>
                                </td>
                                <td class="infowarn">
                                    <th:block th:if="${songSubgroup.info!=null && songSubgroup.info!=''}">
                                        <a data-toggle="tooltip" data-placement="left" th:title="${songSubgroup.info}">
                                            <img class="img-responsive-row-icon" th:src="@{/images/warn1.png}">
                                        </a>
                                    </th:block>
                                    <th:block th:if="${songSubgroup.filename!=null}">
                                        <span th:text="${songSubgroup.filename}" style="display:none;"></span>
                                    </th:block>
                                </td>
                            </tr>
                        </th:block>
                    </th:block>
                </th:block>
            </tbody>
        </table>
    </div>

    <th:block th:insert="~{fragments/ytVideoModal.html}"></th:block>
    <div class="modal fade" id="spotifyModal" role="dialog" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <a href="" id="spotify-ext" class="btn btn-outline-info" th:text="#{launchInSpotify}"></a>
                    <button type="button" class="btn-close" data-bs-theme="light" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="ratio ratio-16x9">
                                <iframe class="externalIframe" src="" id="spotifyVideo" frameborder="0"
                                    allowtransparency="true" allow="encrypted-media"></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="soundcloudModal" role="dialog" data-bs-keyboard="false" tabindex="-1"
        aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="btn-close" data-bs-theme="light" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="ratio ratio-16x9">
                                <iframe class="externalIframe" src="" id="soundcloudVideo" width="100%" height="300"
                                    scrolling="no" frameborder="no" allow="autoplay"></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="tidalModal" role="dialog" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <a href="" id="tidal-ext" target="_blank" class="btn btn-outline-info"
                        th:text="#{launchInTidal}"></a>
                    <button type="button" class="btn-close" data-bs-theme="light" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="ratio ratio-16x9">
                                <iframe class="externalIframe" src="" id="tidalVideo" allowfullscreen="allowfullscreen"
                                    frameborder="0"></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="deezerModal" role="dialog" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <a href="" id="deezer-ext" class="btn btn-outline-info" th:text="#{launchInDeezer}"></a>
                    <button type="button" class="btn-close" data-bs-theme="light" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="ratio ratio-16x9">
                                <iframe class="externalIframe" title="deezer-widget" src="" id="deezerVideo"
                                    frameborder="0" allowtransparency="true"
                                    allow="encrypted-media; clipboard-write"></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <th:block th:insert="~{fragments/playlistModal.html}"></th:block>
    <div class="modal fade" id="disqusModal" th:attr="data-disqusLink=${game.disqusLink}" role="dialog"
        data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="btn-close" data-bs-theme="light" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div id="disqus_thread">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <th:block th:insert="~{fragments/songInfoModal.html}"></th:block>
</th:block>
<th:block th:if="${songSubgroups!=null && songSubgroups.isEmpty()}">
    <h2 th:text="#{gameNoSongs}"></h2>
</th:block>
<div class="success-container info-container" aria-hidden="true">
    <div id="successAddToCustomPlaylist" class="alert alert-success fade show" role="alert">
        <span th:text="#{addedToCustomPlaylist}"></span>
        <button type="button" class="btn-close justHideAlert" data-bs-theme="light" data-bs-hide="alert"
            aria-label="Close"></button>
    </div>
</div>
<div class="error-container info-container" aria-hidden="true">
    <div id="errorThing" class="alert alert-danger fade show" role="alert">
        <span th:text="#{nothingToPlay}"></span>
        <button type="button" class="btn-close justHideAlert" data-bs-theme="light" data-bs-hide="alert"
            aria-label="Close"></button>
    </div>
</div>
<div class="remove-from-playlist-container info-container" aria-hidden="true">
    <div id="successRemoveFromCustomPlaylist" class="alert alert-success fade show" role="alert">
        <span th:text="#{removedFromPlaylist}"></span>
        <button type="button" class="btn-close justHideAlert" data-bs-theme="light" data-bs-hide="alert"
            aria-label="Close"></button>
    </div>
</div>
<th:block th:insert="~{fragments/mobileAdditionalDisplay.html}"></th:block>
<script th:src="@{/js/gamecontent.js}" type="application/javascript"></script>