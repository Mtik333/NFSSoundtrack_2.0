<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<link rel="stylesheet" th:href="@{/css/own.css}">
<th:block th:if="${songSubgroups!=null && !songSubgroups.isEmpty()}">
    <div class="form-group pb-3 pt-3">
        <span id="playlist_init" class="nfs-top-item p-3" style="cursor:pointer;" data-bs-toggle="modal" data-bs-target="#playlistModeModal">Launch playlist mode</span>
        <th:block th:if="${game.spotifyId!=null && game.spotifyId!=''}">
            <span class="p-3 nfs-top-item" style="cursor:pointer;" data-bs-toggle="modal" data-bs-target="#spotifyModal"
                id="spotifyLink" th:attr="data-tagVideo=${game.spotifyId}">Launch Spotify playlist</span>
        </th:block>
        <th:block th:if="${game.tidalId!=null && game.tidalId!=''}">
            <span class="p-3 nfs-top-item" style="cursor:pointer;" data-bs-toggle="modal" data-bs-target="#tidalModal"
                id="tidalLink" th:attr="data-tagVideo=${game.tidalId}">Launch Tidal playlist</span>
        </th:block>
        <th:block th:if="${game.deezerId!=null && game.deezerId!=''}">
            <span class="p-3 nfs-top-item" style="cursor:pointer;" data-bs-toggle="modal" data-bs-target="#deezerModal"
                id="deezerLink" th:attr="data-tagVideo=${game.deezerId}">Launch Deezer playlist</span>
        </th:block>
        <th:block th:if="${game.soundcloudId!=null && game.soundcloudId!=''}">
            <span class="p-3 nfs-top-item" style="cursor:pointer;" data-bs-toggle="modal"
                data-bs-target="#soundcloudModal" id="soundcloudLink"
                th:attr="data-tagVideo=${game.soundcloudId}">Launch SoundCloud playlist</span>
        </th:block>
        <span class="p-3 nfs-top-item" style="cursor:pointer;" data-bs-toggle="modal" data-bs-target="#disqusModal" id="disqusLink">Show Disqus comments</span>
    </div>
    <div class="form-group">
        <span>
            <input id="filter_songs" maxlength="15" class="p-2 mb-2" style="width: 100%"
                placeholder="Type minimum 3 characters to filter songs by author, song title or genre">
        </span>
    </div>
    <div class="tabbable boxed parentTabs">
        <ul class="nav nav-tabs gamegroup">
            <li class="nav-item" th:each="gamegroup: ${gamegroups}">
                <a class="nav-link gamegroup" th:href="@{'#gamegroupid'+${gamegroup.id}}"
                    th:attr="data-el_id='gamegroupid'+${gamegroup.id}" data-toggle="tab"
                    th:text="${gamegroup.groupName}"></a>
            </li>
        </ul>
        <th:block th:each="gamegroup: ${gamegroups}">
            <ul class="nav nav-tabs subgroup visually-hidden"
                th:attr="id='gamegroupid'+${gamegroup.id}, data-el_id='gamegroupid'+${gamegroup.id}">

                <li class="nav-item" th:each="subgroup: ${gamegroup.subgroups}">
                    <button class="nav-link subgroup"
                        th:attr="id='songSubgroup'+${subgroup.id}, data-gameGroupTxt=${gamegroup.groupName}, data-subgroupTxt=${subgroup.subgroupName},data-group_id=${gamegroup.id}"
                        href="" th:text="${subgroup.subgroupName}"></button>

                </li>

            </ul>
        </th:block>
        <table id="game_stuff" class="table table-hover table-striped">
            <thead>
                <tr>
                    <th scope="col"></th>
                    <th scope="col">Country</th>
                    <th scope="col">Band</th>
                    <th scope="col">Song</th>
                    <th scope="col">Genre</th>
                    <th scope="col">Actions</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                <th:block th:each="gamegroup: ${gamegroups}">
                    <th:block th:each="subgroup: ${gamegroup.subgroups}">
                        <th:block th:if="${gamegroup.groupName != 'All'}">
                            <tr class="subgroup-separator table-primary"
                                th:attr="data-group_id=${gamegroup.id},data-el_id='songSubgroup'+${subgroup.id}">
                                <td colspan="7"
                                    th:attr="data-el_id='songSubgroup'+${subgroup.id},data-group_id=${gamegroup.id}"
                                    th:text="${gamegroup.groupName} + ' - ' + ${subgroup.subgroupName}"></td>
                            </tr>
                            <tr th:each="songSubgroup : ${subgroup.songSubgroupList}"
                                th:attr="data-el_id='songSubgroup'+${songSubgroup.subgroup.id},justId=${songSubgroup.subgroup.id},data-group_id=${gamegroup.id},data-song_id=${songSubgroup.song.id}">
                                <td class="info_button">
                                    <img class="img-responsive" th:src="@{/images/info.png}">
                                </td>
                                <td class="countries">
                                    <!--
                                    <th:block th:each="country : ${songSubgroup.song.countrySet}">
                                        <img th:src="${country.countryLink}">
                                    </th:block>
                                -->

                                    <th:block th:each="authorSong : ${songSubgroup.song.authorSongList}">
                                        <th:block
                                            th:each="authorCountry : ${authorSong.authorAlias.author.authorCountries}">
                                            <img class="country-img" th:src="${authorCountry.country.countryLink}">
                                        </th:block>
                                    </th:block>

                                </td>
                                <th:block th:each="authorSong,iter : ${songSubgroup.song.authorSongList}">
                                    <th:block
                                        th:if="${authorSong.role.value!='REMIX'} and ${authorSong.role.value!='FEAT'}">
                                        <td class="band">
                                            <a class="table_link" th:href="'/author/'+${authorSong.authorAlias.id}"
                                                th:text="${songSubgroup.ingameDisplayBand} ? ${songSubgroup.ingameDisplayBand} : ${authorSong.authorAlias.alias} "></a>
                                        </td>
                                    </th:block>
                                </th:block>
                                <td class="songtitle">
                                    <span
                                        th:text="${songSubgroup.ingameDisplayTitle!=null} ? ${songSubgroup.ingameDisplayTitle} : ${songSubgroup.song.officialDisplayTitle} "></span>
                                    <th:block
                                        th:each="authorSong,iter : ${songSubgroup.song.authorSongList.?[role.value=='FEAT']}">
                                        <span th:text="${iter.first ? '(feat. ' : ''}"></span><a
                                            th:href="'/author/'+${authorSong.authorAlias.id}"
                                            th:text="${authorSong.authorAlias.alias}"></a><span
                                            th:text="${iter.last ? ')' : ''}"></span>
                                    </th:block>
                                    <th:block th:if="${songSubgroup.remix.value=='YES'}">
                                        <th:block
                                            th:each="authorSong,iter : ${songSubgroup.song.authorSongList.?[role.value=='REMIX']}">
                                            <span th:text="${iter.first ? '(' : ''}"></span><a
                                                th:href="'/author/'+${authorSong.authorAlias.id}"
                                                th:text="${authorSong.authorAlias.alias}"></a>
                                            <span
                                                th:text="${authorSong.remixConcat!=null} ? ${authorSong.remixConcat} : ''"></span>
                                            <span th:text="${iter.last ? ' Remix)' : ''}"></span>
                                        </th:block>
                                    </th:block>
                                </td>
                                <td>
                                    <th:block th:each="songGenre,iter : ${songSubgroup.song.songGenreList}">
                                        <a class="table_link" th:text="${songGenre.genre.genreName}"
                                            th:href="'/genre/read/'+${songGenre.genre.id}"></a><span th:remove="tag"
                                            th:text="${!iter.last ? ', ' : ''}"></span>
                                    </th:block>
                                </td>
                                <td>
                                    <div class="play_icondiv">
                                        <img class="play_icon img-responsive" data-bs-toggle="modal"
                                            data-bs-target="#videoModal"
                                            th:attr="data-tagVideo=${songSubgroup.srcId} ? 'https://www.youtube.com/embed/'+${songSubgroup.srcId} : 'https://www.youtube.com/embed/'+${songSubgroup.song.srcId}"
                                            th:src="@{/images/znakwodny.png}" width="25" height="25">
                                        </img>
                                        <textarea th:text="${songSubgroup.lyrics}" hidden></textarea>
                                        <th:block th:if="${songSubgroup.spotifyId != null}">
                                            <a th:href="${songSubgroup.spotifyId}">
                                                <img class="img-responsive" th:src="@{/images/spotify.png}">
                                            </a>
                                        </th:block>
                                    </div>
                                </td>
                                <td>
                                    <th:block th:if="${songSubgroup.song.info!=null && songSubgroup.song.info!=''}">
                                        <a data-toggle="tooltip" th:title="${songSubgroup.song.info}">
                                            <img th:src="@{/images/warn1.png}">
                                        </a>
                                    </th:block>
                                </td>
                            </tr>
                        </th:block>
                    </th:block>
                </th:block>
            </tbody>
        </table>

    </div>

    <div class="modal fade" id="videoModal" role="dialog" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="videoModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" id="showLyrics" class="btn btn-light">Lyrics</button>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="ratio ratio-16x9">
                                <iframe src="" id="video" allow="autoplay;" allowscriptaccess="always"
                                    allowfullscreen></iframe>
                            </div>
                        </div>
                        <div class="overflow-scroll" style="display: none;">
                            <div id="lyricsCollapse">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="spotifyModal" role="dialog" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <a href="" id="spotify-ext" class="btn btn-light text-success">Launch in Spotify</a>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="ratio ratio-16x9">
                                <iframe src="" id="spotifyVideo" frameborder="0" allowtransparency="true"
                                    allow="encrypted-media"></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="soundcloudModal" role="dialog" data-bs-keyboard="false" tabindex="-1"
        aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="ratio ratio-16x9">
                                <iframe src="" id="soundcloudVideo" width="100%" height="300" scrolling="no"
                                    frameborder="no" allow="autoplay"></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="tidalModal" role="dialog" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <a href="" id="tidal-ext" target="_blank" class="btn btn-light text-dark">Launch in Tidal</a>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="ratio ratio-16x9">
                                <iframe src="" id="tidalVideo" allowfullscreen="allowfullscreen"
                                    frameborder="0"></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="deezerModal" role="dialog" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <a href="" id="deezer-ext" class="btn btn-light text-muted">Launch in Deezer</a>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="ratio ratio-16x9">
                                <iframe title="deezer-widget" src="" id="deezerVideo" frameborder="0"
                                    allowtransparency="true" allow="encrypted-media; clipboard-write"></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="playlistModeModal" role="dialog" data-bs-keyboard="false" tabindex="-1"
        aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div id="playlistModePlayer" class="ratio ratio-16x9">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <ul id="playlist_progress"></ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="disqusModal" role="dialog" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div id="disqus_thread">
                                <!-- <script>
                                    /**
                                    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
                                    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
                                    /*
                                    var disqus_config = function () {
                                    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
                                    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                                    };
                                    */
                                    (function () { // DON'T EDIT BELOW THIS LINE
                                        var d = document, s = d.createElement('script');
                                        s.src = 'https://nfssoundtrack.disqus.com/embed.js';
                                        s.setAttribute('data-timestamp', +new Date());
                                        (d.head || d.body).appendChild(s);
                                    })();
                                </script>
                                <noscript>Please enable JavaScript to view the <a
                                        href="https://disqus.com/?ref_noscript">comments powered by
                                        Disqus.</a></noscript> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</th:block>
<th:block th:if="${songSubgroups!=null && songSubgroups.isEmpty()}">
    <h2>No songs found, that's quite odd. Would you like to report it? Click the "Report problem" button from the top
        menu to proceed</h2>
</th:block>

</html>