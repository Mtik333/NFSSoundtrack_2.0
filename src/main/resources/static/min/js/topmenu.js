var currentBg=0;$(document).ready((function(){if(changeStuffForDynamicTheme(),$("#hide-icons").multiselect({includeSelectAllOption:!0,templates:{button:'<button type="button" class="form-select multiselect dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false"><span class="multiselect-selected-text"></span></button>'}}),null!=localStorage.getItem("lang")){var e=localStorage.getItem("lang"),t=$(document).find("img[data-countryval='"+e+"']").first()[0].src;$("#dropdownCountryImg")[0].src=t}$(document).on("click","#save-preferences",(function(){localStorage.setItem("expandable-width",$("#expandable-width").val()),localStorage.setItem("scrolling-stuff",$("#scrolling-stuff").prop("checked")),localStorage.setItem("static-leftmenu",$("#static-leftmenu").prop("checked")),localStorage.setItem("icons-size",$("#icons-size").val()),localStorage.setItem("content-width",$("#content-width").val()),localStorage.setItem("video-rendering-stuff",$("#video-rendering-stuff").prop("checked")),localStorage.setItem("hide-icons",JSON.stringify($("#hide-icons").val())),localStorage.setItem("hide-flags",$("#hide-flags").prop("checked")),localStorage.setItem("all-games",$("#all-games").prop("checked")),localStorage.setItem("lang",$("#lang-select").val()),window.location.toString().indexOf("?lang")>-1?window.location.search="?lang="+$("#lang-select").val():window.location=window.location+"?lang="+$("#lang-select").val()})),$(document).on("click","#openPreferences",(function(){var e=localStorage.getItem("scrolling-stuff");null!=e&&$("#scrolling-stuff").prop("checked",JSON.parse(e));var t=localStorage.getItem("video-rendering-stuff");null!=t&&$("#video-rendering-stuff").prop("checked",JSON.parse(t));var a=localStorage.getItem("hide-flags");null!=a&&$("#hide-flags").prop("checked",JSON.parse(a));var l=localStorage.getItem("static-leftmenu");null!=l&&$("#static-leftmenu").prop("checked",JSON.parse(l));var o=localStorage.getItem("expandable-width");null!=o&&$("#expandable-width").val(o);var n=localStorage.getItem("icons-size");null!=n&&$("#icons-size").val(n);var c=localStorage.getItem("content-width");null!=c&&$("#content-width").val(c);var r=localStorage.getItem("lang");null!=r&&$("#lang-select").val(r);var i=JSON.parse(localStorage.getItem("hide-icons"));null!=i&&$("#hide-icons").multiselect("select",i);var g=localStorage.getItem("all-games");null!=g&&$("#all-games").prop("checked",JSON.parse(g))})),$("#nightModeSwitch").click((function(e){e.preventDefault(),localStorage.setItem("dark-mode",!$(this).prev().prop("checked")),$(this).prev().click()})),$("#sunlight").click((function(e){e.preventDefault(),localStorage.setItem("dark-mode",!0),localStorage.removeItem("dynamic-bg"),$("#moonlight").css("display",""),$("#sunlight").css("display","none"),changeStuffForDarkMode(),changeStuffForDynamicTheme(),"undefined"!=typeof DISQUS&&DISQUS.reset({reload:!0})})),$("#moonlight").click((function(e){e.preventDefault(),localStorage.setItem("dark-mode",!1),localStorage.removeItem("dynamic-bg"),$("#moonlight").css("display","none"),$("#sunlight").css("display",""),changeStuffForDarkMode(),changeStuffForDynamicTheme(),"undefined"!=typeof DISQUS&&DISQUS.reset({reload:!0})})),$("#flexSwitchCheckDefault").change((function(e){localStorage.setItem("dark-mode",$(this).prop("checked")),changeStuffForDarkMode(),"undefined"!=typeof DISQUS&&DISQUS.reset({reload:!0})})),$(document).on("click","#dynamic_bg",(function(e){e.preventDefault(),0==(currentBg=localStorage.hasOwnProperty("dynamic-bg")?(Number(localStorage.getItem("dynamic-bg-index"))+1)%5:(currentBg+1)%5)?(localStorage.removeItem("dynamic-bg"),localStorage.setItem("dynamic-bg-index",0),changeStuffForDarkMode(),changeStuffForDynamicTheme()):$.ajax({async:!1,type:"GET",url:"/dynamictheme/"+currentBg,success:function(e){localStorage.setItem("dynamic-bg",e),localStorage.setItem("dynamic-bg-index",currentBg);var t=JSON.parse(e);changeStuffForDarkMode(t.nightMode),changeStuffForDynamicTheme()}})})),$(document).on("click","a.translate-link",(function(){var e=$(this).children().first().attr("data-countryval");localStorage.setItem("lang",e),window.location.toString().indexOf("?lang")>-1?window.location.search="?lang="+e:window.location=window.location+"?lang="+e}))}));