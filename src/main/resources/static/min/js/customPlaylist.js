$(document).ready((function(){function t(t,s){return $(t).children("td").eq(s).text()}function s(t,s){var e=t.parent(),o=JSON.parse(localStorage.getItem("custom-playlist")),n=o.indexOf(s);o.splice(n,1);var i=JSON.stringify(o);localStorage.setItem("custom-playlist",i),$(t).remove();var a=$(e).find("tr");for(let t=0;t<a.length;t++){var l=a[t].children[1];$(l).html(t+1)}$("#successRemoveFromCustomPlaylist").parent().fadeIn(500,(function(){setTimeout((function(){$("#successRemoveFromCustomPlaylist").parent().fadeOut(500)}),3e3)}))}"ontouchstart"in window&&isMobileAgent?($("td.song-instrumental").css("display","none"),$("th.song-instrumental").css("display","none"),$("col.song-instrumental").css("display","none"),$("#mobileAddToPlaylist").css("display","none"),$("#mobileRemoveFromPlaylist").css("display","")):$("th.contextButton").remove(),$(document).on("click","#customPlaylistStuff thead tr th:not(.no-sort)",(function(){var s,e=$(this).parents("#customPlaylistStuff"),o=$(this).parents("#customPlaylistStuff").find("tbody tr").toArray().sort((s=$(this).index(),function(e,o){var n=t(e,s),i=t(o,s);return $.isNumeric(n)&&$.isNumeric(i)?n-i:n.toString().localeCompare(i)})),n=$(this).hasClass("sort-asc")?"desc":"asc";"desc"==n&&(o=o.reverse());for(var i=0;i<o.length;i++)e.append(o[i]);e.find("thead tr th").removeClass("sort-asc").removeClass("sort-desc"),$(this).removeClass("sort-asc").removeClass("sort-desc").addClass("sort-"+n)})),$(document).on("click","img.remove-from-playlist",(function(){$(this).tooltip("dispose");var t=$(this).parent().parent();s(t,$(t).attr("data-songsubgroup-id"))})),$(document).on("click","#truncate_playlist",(function(){localStorage.removeItem("custom-playlist"),$(document).find("tbody").empty(),$("#playlistTruncated").parent().fadeIn(500,(function(){setTimeout((function(){$("#playlistTruncated").parent().fadeOut(500,(function(){window.location.href=window.location.href.replace("custom/playlist","")}))}),2e3)}))})),$("#playlistTruncated").on("hidden.bs.modal",(function(t){$("#spotifyVideo").attr("src","")})),$("#mobileRemoveFromPlaylist").on("click",(function(t){var e=$(this).attr("data-songSubgroup-id");s($("tbody").find("tr[data-songSubgroup-id='"+e+"']"),e),$("#mobile_context").removeClass("show").hide(),$("#mobileLaunchSpotify").css("display",""),$("#playSpotifySample").css("display",""),$("#mobileLaunchItunes").css("display",""),$("#mobileLaunchDeezer").css("display",""),$("#mobileLaunchTidal").css("display",""),$("#mobileLaunchSoundCloud").css("display","")})),$(document).find("th.id").click()}));