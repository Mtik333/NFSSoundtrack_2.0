$(document).ready(function(){function i(t,s){return $(t).children("td").eq(s).text()}function o(t,s){var o=t.parent(),e=JSON.parse(localStorage.getItem("custom-playlist")),s=e.indexOf(s);e.splice(s,1);e=JSON.stringify(e);localStorage.setItem("custom-playlist",e),$(t).remove();var n=$(o).find("tr");for(let t=0;t<n.length;t++){var i=n[t].children[1];$(i).html(t+1)}$("#successRemoveFromCustomPlaylist").parent().fadeIn(500,function(){setTimeout(function(){$("#successRemoveFromCustomPlaylist").parent().fadeOut(500)},3e3)})}"ontouchstart"in window&&($("td.song-instrumental").css("display","none"),$("th.song-instrumental").css("display","none"),$("col.song-instrumental").css("display","none"),$("#mobileAddToPlaylist").css("display","none"),$("#mobileRemoveFromPlaylist").css("display","")),$(document).on("click","#customPlaylistStuff thead tr th:not(.no-sort)",function(){var o,t=$(this).parents("#customPlaylistStuff"),s=$(this).parents("#customPlaylistStuff").find("tbody tr").toArray().sort((o=$(this).index(),function(t,s){t=i(t,o),s=i(s,o);return $.isNumeric(t)&&$.isNumeric(s)?t-s:t.toString().localeCompare(s)})),e=$(this).hasClass("sort-asc")?"desc":"asc";"desc"==e&&(s=s.reverse());for(var n=0;n<s.length;n++)t.append(s[n]);t.find("thead tr th").removeClass("sort-asc").removeClass("sort-desc"),$(this).removeClass("sort-asc").removeClass("sort-desc").addClass("sort-"+e)}),$(document).on("click","img.remove-from-playlist",function(){$(this).tooltip("dispose");var t=$(this).parent().parent();o(t,$(t).attr("data-songsubgroup-id"))}),$(document).on("click","#truncate_playlist",function(){localStorage.removeItem("custom-playlist"),$(document).find("tbody").empty(),$("#playlistTruncated").parent().fadeIn(500,function(){setTimeout(function(){$("#playlistTruncated").parent().fadeOut(500,function(){window.location.href=window.location.href.replace("custom/playlist","")})},2e3)})}),$("#playlistTruncated").on("hidden.bs.modal",function(t){$("#spotifyVideo").attr("src","")}),$("#mobileRemoveFromPlaylist").on("click",function(t){var s=$(this).attr("data-songSubgroup-id");o($("tbody").find("tr[data-songSubgroup-id='"+s+"']"),s),$("#mobile_context").removeClass("show").hide(),$("#mobileLaunchSpotify").css("display",""),$("#playSpotifySample").css("display",""),$("#mobileLaunchItunes").css("display",""),$("#mobileLaunchDeezer").css("display",""),$("#mobileLaunchTidal").css("display",""),$("#mobileLaunchSoundCloud").css("display","")}),$(document).find("th.id").click()});